[gd_scene load_steps=22 format=3 uid="uid://dup2jh8uleo3l"]

[ext_resource type="Script" uid="uid://dc7w7oe3lm0eu" path="res://scripts/player.gd" id="1_u2qrv"]
[ext_resource type="Script" uid="uid://d350u8evihs1u" path="res://addons/netfox/rollback/rollback-synchronizer.gd" id="2_ktqdq"]
[ext_resource type="PackedScene" uid="uid://0by3fcnl3a5n" path="res://assets/characters/master/master_scene.tscn" id="2_v7wsi"]
[ext_resource type="Script" uid="uid://byrgwv2o7hstx" path="res://addons/netfox.extras/state-machine/rewindable-state-machine.gd" id="3_lo6j0"]
[ext_resource type="Script" uid="uid://dour8fehaaugp" path="res://addons/netfox/tick-interpolator.gd" id="4_a47yd"]
[ext_resource type="PackedScene" uid="uid://l1d8hwvn7hbq" path="res://scenes/player/camera_input.tscn" id="4_g37aj"]
[ext_resource type="Script" uid="uid://bbhybl3bvg0b6" path="res://scripts/states/movement/idle_state.gd" id="5_4l86x"]
[ext_resource type="Script" uid="uid://btj80uq43ccmt" path="res://scripts/states/movement/jump_state.gd" id="6_a47yd"]
[ext_resource type="Script" uid="uid://8ympfbj5i4hc" path="res://scripts/states/movement/fall_state.gd" id="8_4l86x"]
[ext_resource type="Script" uid="uid://dlfbk4aggn6u1" path="res://scripts/states/movement/move_state.gd" id="8_a47yd"]
[ext_resource type="Script" uid="uid://c8pgkna7f6aye" path="res://scripts/states/movement/ragdoll.gd" id="10_gjnd3"]
[ext_resource type="Script" uid="uid://ds61cf4l63bue" path="res://scripts/states/movement/interact.gd" id="10_h5dd4"]
[ext_resource type="Script" uid="uid://5oxt7p6a1uo8" path="res://scripts/player_input.gd" id="10_kusnb"]
[ext_resource type="PackedScene" uid="uid://qsh5m8pulul5" path="res://scripts/systems/HealthSystem.tscn" id="11_2hvjq"]
[ext_resource type="PackedScene" uid="uid://btdemgg0e0b4o" path="res://scenes/player/player_ui.tscn" id="12_ua4at"]
[ext_resource type="Script" uid="uid://d0r47oscrxt5o" path="res://scripts/states/movement/dead.gd" id="13_2hvjq"]
[ext_resource type="Script" uid="uid://r1boayxutr47" path="res://scripts/states/movement/static.gd" id="13_h5dd4"]
[ext_resource type="PackedScene" uid="uid://cf6jco7ctb45m" path="res://weapon_manager/weapons_manager.tscn" id="13_nrabn"]

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_nrabn"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_y8poy"]
radius = 0.3
height = 1.5

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_2hvjq"]
radius = 0.15
height = 0.4

[node name="PlayerRootMotion" type="CharacterBody3D" node_paths=PackedStringArray("_player_input", "_camera_input", "_player_model", "_state_machine", "_tick_interpolator", "sync", "skeleton", "bones", "chest", "health_system", "weapons_manager", "weapon_pivot", "player_ui")]
platform_on_leave = 2
platform_floor_layers = 0
script = ExtResource("1_u2qrv")
_player_input = NodePath("PlayerInput")
_camera_input = NodePath("CameraInput")
_player_model = NodePath("master")
_state_machine = NodePath("RewindableStateMachine")
_tick_interpolator = NodePath("TickInterpolator")
sync = NodePath("MultiplayerSynchronizer")
skeleton = NodePath("master/Armature/GeneralSkeleton")
bones = NodePath("master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D")
chest = NodePath("master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D/Physical Bone Chest")
health_system = NodePath("HealthSystem")
weapons_manager = NodePath("RightHandBoneAttachment/WeaponPivot/WeaponPivotFinal/WeaponsManager")
weapon_pivot = NodePath("RightHandBoneAttachment/WeaponPivot")
player_ui = NodePath("PlayerUi")

[node name="master" parent="." instance=ExtResource("2_v7wsi")]

[node name="GeneralSkeleton" parent="master/Armature" index="0"]
bones/0/position = Vector3(-1.28211e-07, 0, -0.00100531)
bones/1/position = Vector3(-1.16415e-10, 1.06133, -2.32831e-08)
bones/1/rotation = Quaternion(-7.10543e-14, 5.22073e-08, 3.52983e-07, 1)
bones/2/rotation = Quaternion(8.58513e-09, 9.60357e-09, -3.01674e-07, 1)
bones/3/rotation = Quaternion(-2.84217e-14, 1.45519e-11, -1.81899e-12, 1)
bones/4/rotation = Quaternion(-7.45047e-09, 1.45519e-11, 7.00311e-10, 1)
bones/5/rotation = Quaternion(6.03961e-14, -1.8231e-11, -1.59331e-12, 1)
bones/6/rotation = Quaternion(-3.87741e-26, 1.55431e-15, 1.88738e-15, 1)
bones/8/rotation = Quaternion(0.499993, 0.500007, 0.499993, -0.500007)
bones/9/rotation = Quaternion(3.27826e-07, 1, -6.4075e-06, 3.27826e-07)
bones/10/rotation = Quaternion(-7.3757e-08, -0.707107, 7.3757e-08, 0.707107)
bones/11/rotation = Quaternion(-2.56716e-07, 0.707106, -3.41009e-07, 0.707108)
bones/12/rotation = Quaternion(-0.214188, 0.673886, 0.21419, 0.673888)
bones/13/rotation = Quaternion(8.9258e-06, 4.26173e-06, 2.77162e-06, 1)
bones/14/rotation = Quaternion(-7.83801e-06, -3.63588e-06, -3.60608e-06, 1)
bones/16/rotation = Quaternion(-1.81794e-06, 2.98023e-08, -6.04987e-06, 1)
bones/17/rotation = Quaternion(5.96046e-08, -5.96046e-08, -2.74181e-06, 1)
bones/18/rotation = Quaternion(1.69873e-06, -2.98023e-08, 5.33462e-06, 1)
bones/20/rotation = Quaternion(-7.7486e-07, -5.96046e-08, -6.18398e-06, 1)
bones/21/rotation = Quaternion(-1.19209e-07, 0, 9.23872e-07, 1)
bones/22/rotation = Quaternion(8.19564e-07, 1.49012e-08, 2.98023e-08, 1)
bones/24/rotation = Quaternion(-9.23872e-07, 2.98023e-08, -3.48687e-06, 1)
bones/25/rotation = Quaternion(4.32134e-06, -2.98023e-08, 1.31726e-05, 1)
bones/26/rotation = Quaternion(-3.41237e-06, 8.9407e-08, -1.32322e-05, 1)
bones/28/rotation = Quaternion(-4.47035e-08, 2.98023e-08, -1.78814e-06, 1)
bones/29/rotation = Quaternion(-1.66893e-06, 0, -5.23031e-06, 1)
bones/30/rotation = Quaternion(-2.98023e-08, -2.98023e-08, 1.66893e-06, 1)
bones/32/rotation = Quaternion(0.499987, -0.500013, -0.499987, -0.500013)
bones/33/rotation = Quaternion(-4.17232e-07, 1, 5.63264e-06, -4.17232e-07)
bones/34/rotation = Quaternion(0, 0.707107, -6.32203e-08, 0.707107)
bones/35/rotation = Quaternion(-3.09475e-07, -0.708032, 3.51622e-07, 0.706181)
bones/36/rotation = Quaternion(-0.214921, -0.673531, -0.214067, 0.674048)
bones/37/rotation = Quaternion(1.00434e-05, 1.86265e-06, -7.50124e-05, 1)
bones/38/rotation = Quaternion(-9.79006e-06, -9.68575e-07, 6.3628e-05, 1)
bones/40/rotation = Quaternion(-8.9407e-08, -2.98023e-08, 5.94556e-06, 1)
bones/41/rotation = Quaternion(-1.49012e-08, 5.96046e-08, 1.81794e-06, 1)
bones/42/rotation = Quaternion(-2.98023e-08, -2.98023e-08, -4.35114e-06, 1)
bones/44/rotation = Quaternion(2.98023e-08, 2.98023e-08, 6.03497e-06, 1)
bones/45/rotation = Quaternion(-2.98023e-08, -2.98023e-08, -2.563e-06, 1)
bones/46/rotation = Quaternion(-1.49012e-08, -2.98023e-08, 1.75834e-06, 1)
bones/48/rotation = Quaternion(0, 0, 3.50177e-06, 1)
bones/49/rotation = Quaternion(0, 0, -1.32322e-05, 1)
bones/50/rotation = Quaternion(-7.45058e-08, 0, 1.13398e-05, 1)
bones/52/rotation = Quaternion(-1.19209e-07, -2.98023e-08, 2.98023e-08, 1)
bones/53/rotation = Quaternion(8.9407e-08, -2.98023e-08, -1.49012e-07, 1)
bones/54/rotation = Quaternion(1.04308e-07, 1.04308e-07, 8.9407e-08, 1)
bones/56/rotation = Quaternion(1.18465e-08, 0.000429073, 1, 2.63399e-07)
bones/57/rotation = Quaternion(5.16806e-10, 1, 1.56928e-06, -5.38395e-10)
bones/58/rotation = Quaternion(2.74915e-08, 0.707411, -0.706802, 2.88696e-08)
bones/59/rotation = Quaternion(-1.31709e-09, 1, 0, 1.31709e-09)
bones/61/rotation = Quaternion(9.58215e-09, 0.000432338, 1, 2.65693e-07)
bones/62/rotation = Quaternion(-1.81271e-10, 1, -4.02983e-06, -4.95391e-10)
bones/63/rotation = Quaternion(-2.84071e-08, 0.70741, -0.706804, -2.24656e-08)
bones/64/rotation = Quaternion(9.21962e-09, 1, 5.96046e-08, 1.31709e-09)

[node name="Physical Bone Hips" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="0"]
transform = Transform3D(0.999625, 0.0270849, 0.00397462, 2.95919e-07, 0.145181, -0.989405, -0.027375, 0.989034, 0.145127, -0.000192093, 1.10878, -0.00796598)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.33149e-06, 6.43544e-07, 0.0479584)
body_offset = Transform3D(0.999625, 0.0270849, 0.00397391, -4.09782e-07, 0.145181, -0.989405, -0.0273749, 0.989034, 0.145127, -0.000191931, 0.0474502, -0.00696065)

[node name="Physical Bone Spine" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="1"]
transform = Transform3D(0.999629, 0.0269315, 0.00395173, -5.71416e-08, 0.14518, -0.989405, -0.0272199, 0.989039, 0.145126, -0.000602925, 1.21158, -0.0230463)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.07308e-07, 2.63751e-06, 0.0559354)
body_offset = Transform3D(0.999629, 0.0269314, 0.00395161, -1.60187e-07, 0.14518, -0.989405, -0.0272198, 0.989039, 0.145126, -0.000221513, 0.0553424, -0.00812029)

[node name="Physical Bone Chest" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="2"]
transform = Transform3D(0.99962, 0.0272777, 0.00406102, 5.63996e-05, 0.145232, -0.989398, -0.0275783, 0.989022, 0.145175, -0.00107695, 1.33021, -0.0404482)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.40569e-06, 7.3202e-07, 0.0639272)
body_offset = Transform3D(0.99962, 0.0272776, 0.0040609, 5.62966e-05, 0.145232, -0.989398, -0.0275781, 0.989022, 0.145175, -0.000253219, 0.0632493, -0.00928155)

[node name="Physical Bone UpperChest" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="3"]
transform = Transform3D(0.99963, 0.026925, 0.0039517, 9.53403e-07, 0.145177, -0.989406, -0.0272134, 0.989039, 0.145123, -0.00161384, 1.46468, -0.060171)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.32889e-07, 3.0743e-06, 0.0719426)
body_offset = Transform3D(0.99963, 0.0269249, 0.00395158, 8.49366e-07, 0.145177, -0.989406, -0.0272133, 0.989039, 0.145123, -0.000284603, 0.07118, -0.0104436)

[node name="Physical Bone Head" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="4"]
transform = Transform3D(-1, -1.19956e-07, -2.23839e-06, 2.21685e-06, 0.0950891, -0.995469, 3.3226e-07, -0.995469, -0.0950891, -0.0018983, 1.69693, -0.0552192)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.58233e-07, 3.08268e-06, 0.128856)
body_offset = Transform3D(-1, 1.30172e-08, -2.33018e-06, 2.32086e-06, 0.0950891, -0.995469, 2.08616e-07, -0.995469, -0.0950891, -3.57977e-07, 0.128271, 0.0122558)

[node name="Physical Bone LeftShoulder" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="5"]
transform = Transform3D(7.13887e-07, 0.220182, -0.975459, 0.0186213, 0.97529, 0.220144, 0.999827, -0.0181645, -0.00409939, 0.136431, 1.49516, -0.0700211)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.17446e-06, -5.82077e-07, 0.0722449)
body_offset = Transform3D(0.999827, -0.0181645, -0.00409927, 1.3411e-06, 0.220209, -0.975453, 0.0186213, 0.975284, 0.220171, 0.000290968, 0.0704716, -0.0159057)

[node name="Physical Bone LeftUpperArm" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="6"]
transform = Transform3D(0.000100101, -3.29169e-05, -1, 4.37834e-05, -1, 3.29213e-05, -1, -4.37866e-05, -0.000100099, 0.322715, 1.47925, -0.0697089)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.01313e-06, -3.18628e-06, 0.115814)
body_offset = Transform3D(1, 4.444e-05, 9.9329e-05, 9.93311e-05, -4.76241e-05, -1, -4.44353e-05, 1, -4.76285e-05, -1.04904e-05, 0.115814, 8.70228e-06)

[node name="Physical Bone LeftLowerArm" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="7"]
transform = Transform3D(1.47966e-05, 4.02777e-06, -1, -1, 1.04086e-06, -1.47966e-05, 1.0408e-06, 1, 4.02778e-06, 0.558863, 1.47926, -0.0697167)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.20644e-06, -3.02129e-06, 0.120359)
body_offset = Transform3D(1, -2.68214e-07, -1.1921e-07, -1.19208e-07, 4.79818e-06, -1, 2.68221e-07, 1, 4.79818e-06, -1.19209e-06, 0.120359, 2.44379e-06)

[node name="Physical Bone LeftHand" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="8"]
transform = Transform3D(-1.41912e-05, 0.505824, -0.862637, 0.616644, 0.679108, 0.398198, 0.787242, -0.531934, -0.311923, 0.70009, 1.46962, -0.0621756)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.83403e-06, 1.43098e-06, 0.0241931)
body_offset = Transform3D(-0.787244, 0.531932, 0.311922, -5.126e-06, 0.505834, -0.862631, -0.616642, -0.679102, -0.398212, -0.00754333, 0.020869, 0.00963795)

[node name="Physical Bone RightShoulder" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="9"]
transform = Transform3D(6.57742e-06, -0.22014, 0.975468, -0.01863, 0.975299, 0.220102, -0.999826, -0.0181744, -0.00409479, -0.139089, 1.49516, -0.0700174)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.08444e-06, 9.23872e-07, 0.0722446)
body_offset = Transform3D(0.999826, 0.0181743, 0.00409418, -8.16584e-06, 0.220192, -0.975457, -0.0186297, 0.975287, 0.220154, -0.000294715, 0.0704713, -0.0159059)

[node name="Physical Bone RightUpperArm" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="10"]
transform = Transform3D(1.16687e-06, -6.15384e-05, 1, 2.07269e-06, -1, -6.15384e-05, 1, 2.07276e-06, -1.16675e-06, -0.325405, 1.47927, -0.0696893)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.98896e-05, 5.56151e-06, 0.115844)
body_offset = Transform3D(1, 1.00213e-06, 2.38429e-07, 2.68221e-07, -2.76044e-06, -1, -1.0021e-06, 1, -2.73064e-06, 2.98619e-05, 0.115844, -5.24521e-06)

[node name="Physical Bone RightLowerArm" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="11"]
transform = Transform3D(6.91529e-05, -3.75143e-06, 1, 1, -1.22638e-05, -6.91529e-05, 1.2264e-05, 1, 3.75059e-06, -0.561523, 1.47929, -0.0697188)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.59526e-06, -6.31259e-07, 0.12036)
body_offset = Transform3D(1, -1.34539e-05, -4.79453e-06, -4.76467e-06, 5.27501e-06, -1, 1.34539e-05, 1, 5.24516e-06, 4.17233e-06, 0.12036, 0)

[node name="Physical Bone RightHand" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="12"]
transform = Transform3D(-3.95964e-05, -0.505843, 0.862626, -0.61449, 0.680559, 0.399051, -0.788924, -0.530059, -0.310862, -0.702711, 1.4697, -0.0621972)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.13959e-05, -2.50102e-05, 0.0241332)
body_offset = Transform3D(-0.787314, -0.531838, -0.311905, -3.98618e-07, 0.505886, -0.8626, 0.616552, -0.679137, -0.398292, 0.00754654, 0.0208299, 0.00956953)

[node name="Physical Bone RightUpperLeg" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="13"]
transform = Transform3D(1, -3.68264e-06, -7.66983e-07, 6.52926e-07, -0.0308723, 0.999523, -3.70457e-06, -0.999523, -0.0308723, -0.09941, 0.791877, -0.00440201)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.3961e-07, 1.80951e-05, 0.216831)
body_offset = Transform3D(-1, 3.56036e-06, 5.83963e-07, -4.76837e-07, 0.0300146, -0.99955, -3.57628e-06, -0.99955, -0.0300146, 3.12924e-07, 0.216733, 0.00652619)

[node name="Physical Bone RightLowerLeg" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="14"]
transform = Transform3D(-1, 7.0376e-07, -8.28053e-08, -1.47835e-07, -0.0929125, 0.995674, 6.93022e-07, 0.995674, 0.0929125, -0.099415, 0.353654, -0.0183977)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.36835e-06, 1.6652e-06, 0.222471)
body_offset = Transform3D(-1, 5.60955e-07, 8.27678e-08, -2.98023e-08, 0.09377, -0.995594, -5.66244e-07, -0.995594, -0.09377, -5.38677e-06, 0.221491, 0.0208628)

[node name="Physical Bone RightFoot" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="15"]
transform = Transform3D(-0.981243, 0.142517, 0.129815, 0.192777, 0.725399, 0.660782, 5.06081e-06, 0.673413, -0.739267, -0.112391, 0.0661491, 0.0348642)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.38599e-05, -5.22994e-05, 0.0999545)
body_offset = Transform3D(0.981243, -0.142517, -0.129815, 4.85778e-06, 0.673413, -0.739267, 0.192777, 0.725399, 0.660782, 0.0129817, 0.0739283, -0.0660075)

[node name="Physical Bone LeftUpperLeg" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="16"]
transform = Transform3D(1, 3.1871e-06, -2.68818e-08, 1.25278e-07, -0.0308771, 0.999523, 3.18475e-06, -0.999523, -0.0308771, 0.0961859, 0.791922, -0.00442495)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.23656e-06, -4.49736e-06, 0.216787)
body_offset = Transform3D(-1, -3.305e-06, -1.51415e-07, 5.21541e-08, 0.0300128, -0.99955, 3.30806e-06, -0.99955, -0.0300128, -3.20375e-06, 0.216689, 0.00650189)

[node name="Physical Bone LeftLowerLeg" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="17"]
transform = Transform3D(-1, 3.27609e-06, 4.34083e-06, 4.01766e-06, -0.0929141, 0.995674, 3.66525e-06, 0.995674, 0.0929141, 0.0961774, 0.353623, -0.0183933)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.36236e-06, -2.96347e-06, 0.222501)
body_offset = Transform3D(-1, 3.13801e-06, 4.50364e-06, -4.18956e-06, 0.093767, -0.995594, -3.54648e-06, -0.995594, -0.093767, -5.36442e-06, 0.221521, 0.0208603)

[node name="Physical Bone LeftFoot" parent="master/Armature/GeneralSkeleton/PhysicalBoneSimulator3D" index="18"]
transform = Transform3D(-0.981228, -0.142569, -0.129869, -0.192852, 0.725395, 0.660765, 1.39434e-06, 0.673406, -0.739273, 0.109171, 0.0660822, 0.0348647)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.23307e-06, -1.49012e-06, 0.0999995)
body_offset = Transform3D(0.981228, 0.142569, 0.129869, 1.3262e-06, 0.673406, -0.739273, -0.192852, 0.725395, 0.660765, -0.0129878, 0.0739279, -0.0660749)

[node name="AnimationPlayer" parent="master" index="1"]
root_motion_track = NodePath("")

[node name="RollbackSynchronizer" type="Node" parent="." node_paths=PackedStringArray("root")]
script = ExtResource("2_ktqdq")
root = NodePath("..")
state_properties = Array[String]([":transform", ":velocity", "master:transform", "RewindableStateMachine:state"])
input_properties = Array[String](["PlayerInput:input_dir", "PlayerInput:jump_input", "PlayerInput:run_input", "CameraInput:camera_basis", "CameraInput:camera_look", "PlayerInput:shoot_input"])
enable_input_broadcast = false
metadata/_custom_type_script = "uid://d350u8evihs1u"

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_nrabn")

[node name="RewindableStateMachine" type="Node" parent="."]
script = ExtResource("3_lo6j0")
metadata/_custom_type_script = "uid://byrgwv2o7hstx"

[node name="Idle" type="Node" parent="RewindableStateMachine" node_paths=PackedStringArray("camera_input", "player_input", "parent")]
script = ExtResource("5_4l86x")
animation_name = "rifle aiming idle"
camera_input = NodePath("../../CameraInput")
player_input = NodePath("../../PlayerInput")
parent = NodePath("../..")

[node name="Interact" type="Node" parent="RewindableStateMachine" node_paths=PackedStringArray("camera_input", "player_input", "parent")]
script = ExtResource("10_h5dd4")
animation_name = "rifle aiming idle"
camera_input = NodePath("../../CameraInput")
player_input = NodePath("../../PlayerInput")
parent = NodePath("../..")

[node name="Jump" type="Node" parent="RewindableStateMachine" node_paths=PackedStringArray("camera_input", "player_input", "parent")]
script = ExtResource("6_a47yd")
animation_name = "walking"
camera_input = NodePath("../../CameraInput")
player_input = NodePath("../../PlayerInput")
parent = NodePath("../..")

[node name="Move" type="Node" parent="RewindableStateMachine" node_paths=PackedStringArray("camera_input", "player_input", "parent")]
script = ExtResource("8_a47yd")
camera_input = NodePath("../../CameraInput")
player_input = NodePath("../../PlayerInput")
parent = NodePath("../..")

[node name="Fall" type="Node" parent="RewindableStateMachine" node_paths=PackedStringArray("camera_input", "player_input", "parent")]
script = ExtResource("8_4l86x")
animation_name = "walking"
camera_input = NodePath("../../CameraInput")
player_input = NodePath("../../PlayerInput")
parent = NodePath("../..")

[node name="Ragdoll" type="Node" parent="RewindableStateMachine" node_paths=PackedStringArray("camera_input", "player_input", "parent")]
script = ExtResource("10_gjnd3")
animation_name = "rifle aiming idle"
camera_input = NodePath("../../CameraInput")
player_input = NodePath("../../PlayerInput")
parent = NodePath("../..")
metadata/_custom_type_script = "uid://c1xw0v7hky5kl"

[node name="Dead" type="Node" parent="RewindableStateMachine" node_paths=PackedStringArray("camera_input", "player_input", "parent")]
script = ExtResource("13_2hvjq")
animation_name = "rifle aiming idle"
camera_input = NodePath("../../CameraInput")
player_input = NodePath("../../PlayerInput")
parent = NodePath("../..")
metadata/_custom_type_script = "uid://c1xw0v7hky5kl"

[node name="Static" type="Node" parent="RewindableStateMachine" node_paths=PackedStringArray("camera_input", "player_input", "parent")]
script = ExtResource("13_h5dd4")
camera_input = NodePath("../../CameraInput")
player_input = NodePath("../../PlayerInput")
parent = NodePath("../..")
metadata/_custom_type_script = "uid://usyufdtn83hc"

[node name="TickInterpolator" type="Node" parent="." node_paths=PackedStringArray("root")]
script = ExtResource("4_a47yd")
root = NodePath("..")
properties = Array[String]([":transform", "master:transform", ":velocity"])
metadata/_custom_type_script = "uid://dour8fehaaugp"

[node name="HealthSystem" parent="." instance=ExtResource("11_2hvjq")]
regen_enabled = true
temp_enabled = true

[node name="PlayerUi" parent="." node_paths=PackedStringArray("weapons_manager") instance=ExtResource("12_ua4at")]
weapons_manager = NodePath("../RightHandBoneAttachment/WeaponPivot/WeaponPivotFinal/WeaponsManager")

[node name="PlayerInput" type="Node" parent="."]
script = ExtResource("10_kusnb")

[node name="CameraInput" parent="." instance=ExtResource("4_g37aj")]

[node name="BodyCollision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.769434, 0)
shape = SubResource("CapsuleShape3D_y8poy")

[node name="HeadCollision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.65716, 0)
shape = SubResource("CapsuleShape3D_2hvjq")

[node name="RightHandBoneAttachment" type="BoneAttachment3D" parent="."]
transform = Transform3D(4.2106e-07, -1, -6.43311e-05, -0.00261617, 6.43e-05, -0.999996, 0.999996, 5.59571e-07, -0.00261617, -0.68188, 1.47929, -0.0697187)
bone_name = "RightHand"
bone_idx = 35
use_external_skeleton = true
external_skeleton = NodePath("../master/Armature/GeneralSkeleton")

[node name="WeaponPivot" type="Marker3D" parent="RightHandBoneAttachment"]

[node name="WeaponPivotFinal" type="Marker3D" parent="RightHandBoneAttachment/WeaponPivot"]
transform = Transform3D(-2.84053e-08, 0, 1, 0, 0.999999, 1.11759e-07, -1, 2.23517e-08, -5.68107e-08, 0.285775, -0.13041, 0.574644)

[node name="WeaponsManager" parent="RightHandBoneAttachment/WeaponPivot/WeaponPivotFinal" node_paths=PackedStringArray("player_hud", "player") instance=ExtResource("13_nrabn")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0.410812, -0.213233, 0.115377)
player_hud = NodePath("../../../../PlayerUi")
player = NodePath("../../../..")

[node name="RootMotionView" type="RootMotionView" parent="."]
animation_path = NodePath("../master/AnimationPlayer")

[editable path="master"]
